html
<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <title>WebSocket –ó–∞–∫–∞–∑—ã</title>
    <style>
      body {
        font-family: sans-serif;
        margin: 20px;
      }
      #orders {
        margin-top: 20px;
      }
      .order {
        border: 1px solid #ccc;
        padding: 10px;
        margin-bottom: 10px;
        border-radius: 6px;
      }
    </style>
  </head>
  <body>
    <h1>–ù–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã —á–µ—Ä–µ–∑ WebSocket</h1>
    <div id="status">üîÑ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</div>
    <div id="orders"></div>

    <script>
      const statusEl = document.getElementById("status");
      const ordersEl = document.getElementById("orders");

      // WebSocket —á–µ—Ä–µ–∑ –∑–∞—â–∏—â—ë–Ω–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª wss
      const socket = new WebSocket("wss://chechnya-product.ru/ws/orders");

      socket.onopen = () => {
        statusEl.textContent = "‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ WebSocket";
      };

      socket.onclose = () => {
        statusEl.textContent = "‚ùå –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–æ";
      };

      socket.onerror = (err) => {
        statusEl.textContent = "‚ö† –û—à–∏–±–∫–∞ WebSocket";
        console.error("WebSocket error:", err);
      };

      socket.onmessage = (event) => {
        const message = JSON.parse(event.data);
        console.log(message);

        if (message.type === "new_order" || message.type === "status_update") {
          const order = message.order;
          const div = document.createElement("div");
          div.className = "order";
          div.innerHTML = `
          <strong>–ó–∞–∫–∞–∑ #${order.id}</strong><br>
          –°—Ç–∞—Ç—É—Å: ${order.status || "–Ω–µ —É–∫–∞–∑–∞–Ω"}<br>
          –î–æ—Å—Ç–∞–≤–∫–∞: ${order.delivery_type || "‚Äî"}<br>
          –û–ø–ª–∞—Ç–∞: ${order.payment_type || "‚Äî"}<br>
          –°—É–º–º–∞: ${order.total}<br>
          –í—Ä–µ–º—è: ${order.created_at}
        `;
          ordersEl.prepend(div);
        }
      };
    </script>
  </body>
</html>
